/**
 * Enum.js - Javascript enum object.
 *
 * Version: 0.1.0
 *
 * Copyright 2013, Sergey Kamardin.
 *
 * Licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Date: 2013-07-08 14:37:37
 * Location: Moscow, Russia.
 * Contact: gobwas@gmail.com
 */

!function(a,b){"use strict";var c=function(a,c,d){var e;d||(d=null);for(var f in a)if(a.hasOwnProperty(f)&&(e=c.call(d,a[f],f,a),e!==b))return e;return e},d=function(a){for(var b=Array.prototype.slice.call(arguments,1),d=function(b,c){a[c]=b},e=0;e<b.length;e++)c(b[e],d);return a},e=function(a,d){return c(d,function(c,d){return c===a?d:b})},f=function(a,b){return"function"!=typeof b[a]&&"object"!=typeof b[a]&&"__"!==a.substr(0,2)},g=function(a){Error.prototype.constructor.apply(this,arguments),this.message=a},h=function(){};h.prototype=Error.prototype,g.prototype=new h,d(g.prototype,{constructor:g,name:"EnumError",message:""});var i=function(a){var c=null,d=e(a,this.constructor.values());if(d===b)throw new g("'"+this.name+"' does not have value '"+a+"'");c=a,this.value=function(){return c},this.key=function(){return d}};i.prototype={constructor:i,name:"AbstractEnum",equal:function(a){return this.value()===a},equalEnum:function(a){if(!a instanceof i)throw new g("Enum object is expected");return this.value()===a.value()},valueOf:function(){return this.value()},toLocaleString:function(){return this.value()},toString:function(){return this.value()}};var j={make:function(a){if(f(a,this)){var b=function(){};b.prototype=this.prototype;var c=new b;return this.call(c,this[a]),c}throw new g("'"+this.name+"' does not have value for key '"+a+"'")},has:function(a){return!!this.keyOf(a)},keyOf:function(a){var d=c(this.values(),function(c,d){return a===c?d:b});return d?d:null},values:function(){var a={},b=this;return c(b,function(c,d){f(d,b)&&(a[d]=b[d])}),a},valueOf:function(){return this.values()},toString:function(){var a="";return c(this.values(),function(b,c){a+=(0===a.length?"":"; ")+c+" = "+b}),a},extend:function(a,b){function c(){}var e,f=this;return a||(a={}),b||(b={}),e=b.hasOwnProperty("constructor")&&"function"==typeof b.constructor?b.constructor:function(){f.apply(this,arguments)},d(e,f,a),c.prototype=f.prototype,e.prototype=new c,d(e.prototype,b,{constructor:e}),e.__super__=f.prototype,"function"==typeof Object.freeze&&Object.freeze(e),e}};d(i,j),a.Enum=i,a.EnumError=g}(this);